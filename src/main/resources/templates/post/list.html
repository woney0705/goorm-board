<!DOCTYPE html>
<html lang="ko">
<head>
    <th:block th:replace="~{fragments/head :: common-head}"></th:block>
</head>
<body class="flex flex-col min-h-screen bg-gray-50 text-gray-800">
<!-- ✅ HEADER -->
<th:block th:replace="~{fragments/header :: header}"></th:block>


<!-- ✅ BOARD PAGE -->
<main class="flex-1">
    <section class="max-w-7xl mx-auto px-4 py-12">
        <div th:if="${message}" class="mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded">
            <span th:text="${message}"></span>
        </div>

        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-bold">게시판</h2>
            <a href="/posts/new" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm font-medium">글쓰기</a>
        </div>

        <div class="overflow-x-auto bg-white shadow rounded-lg">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-100">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">번호</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">제목</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">작성자</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">작성일</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">액션</th>
                </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                <tr th:each="post : ${posts}">
                    <td class="px-6 py-4 whitespace-nowrap" th:text="${post.seq}">10</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <a th:href="@{/posts/{seq}(seq=${post.seq})}" class="text-blue-600 hover:underline"  th:text="${post.title}">
                            TailwindCSS 사용법 정리
                        </a>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap" th:text="${post.author}">홍길동</td>
                    <td class="px-6 py-4 whitespace-nowrap" th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd')}">2025-07-22</td>
                    <td class="px-6 py-4 whitespace-nowrap space-x-1">
                        <a th:href="@{/posts/{seq}/edit(seq=${post.seq})}" class="px-2 py-1 text-xs bg-blue-100 text-blue-600 rounded hover:bg-blue-200">
                            수정
                        </a>
                        <form th:action="@{/posts/{seq}/delete(seq=${post.seq})}" method="post" style="display: inline;">
                            <button type="submit" class="px-2 py-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200" onclick="return confirm('삭제하시겠습니까?')">
                                삭제
                            </button>
                        </form>
                    </td>
                </tr>
                <tr th:if="${#lists.isEmpty(posts)}">
                    <td colspan="5" class="px-6 py-4 text-center text-gray-500">
                        등록된 게시글이 없습니다.
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!-- ✅ PAGINATION -->
        <div class="mt-8 flex justify-center space-x-1">
            <button class="px-3 py-1 text-sm border rounded hover:bg-gray-200">«</button>
            <button class="px-3 py-1 text-sm border rounded bg-blue-600 text-white">1</button>
            <button class="px-3 py-1 text-sm border rounded hover:bg-gray-200">2</button>
            <button class="px-3 py-1 text-sm border rounded hover:bg-gray-200">3</button>
            <button class="px-3 py-1 text-sm border rounded hover:bg-gray-200">»</button>
        </div>
    </section>
</main>

<!-- ✅ FOOTER -->
<th:block th:replace="~{fragments/footer :: footer}"> </th:block>
</body>
</html>